<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지</title>
    <style>
        .mysection {
            width: 80%;
            margin: 50px auto;
            display: flex;
        }

        .left-div {
            width: 24%;
            border: solid 1px #fefefe;
        }

        .right-div {
            width: 74%;
            border: solid 1px #fefefe;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 왼쪽메뉴바 */
        .menu-bar {
            width: 100%;
            height: 100vh;
            left: 0;
            top: 0;
            padding: 30px;
        }

        .menu-list {
            list-style-type: none;
            padding: 0;
            text-align: right;
        }

        .menu-item {
            border-bottom: 1px solid #b3b2b2;
            margin-bottom: 10px;
        }

        .menu-item a {
            text-decoration: none;
            color: #fefefe;
            font-size: 24px;
        }

        .menu-item:hover {
            background-color: #ccc;
        }

        .mypage-h2 {
            margin: 30px 10%;
            color: azure;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        .bottom-list {
            margin-top: auto;
        }
    </style>
</head>

<body style="background-color: #423b5b;">
    <div th:replace="~{/fragment/header.html :: fragment-header}"></div>
    <div style="height: 100px; width: 100%"></div>
    <h2 class="mypage-h2">마이페이지</h2>
    <section class="mysection">
        <div class="left-div">
            <div class="menu-bar">
                <ul class="menu-list">
                    <li class="menu-item"><a id="myinfo" href="#">내 정보 변경</a></li>
                    <li class="menu-item"><a id="myreservation" href="#">내 예약정보</a></li>
                    <li class="menu-item"><a id="mypayment" href="#">결제내역 보기</a></li>
                    <li class="menu-item"><a id="mywedding" href="#">내 문의내역</a></li>
                    <li class="menu-item"><a href="#">Menu 5</a></li>
                    <li class="menu-item"><a href="#">Menu 6</a></li>
                </ul>
                <ul class="bottom-list">
                    <li class="menu-item"><a href="#">회원탈퇴</a></li>
                </ul>
            </div>
        </div>
        <div class="right-div">
            <div id="mypage-container" class="myinfo">

            </div>
        </div>
    </section>
    <table>
        <tr>
            <th>id</th>
            <th>아이디</th>
            <th>이메일</th>
            <th>비밀번호</th>
            <th>이름</th>
        </tr>
        <tr>
            <td th:text="${user.id}"></td>
            <td th:text="${user.userId}"></td>
            <td th:text="${user.userEmail}"></td>
            <td th:text="${user.userPassword}"></td>
            <td th:text="${user.userName}"></td>
        </tr>
    </table>

    <button><a href="/userupdate">내정보</a></button>

    <div th:replace="~{/fragment/footer.html :: fragment-footer}"></div>
    <script>
        $("#mypayment").on("click", function (myinfo) {
            myinfo.preventDefault();
            page("/paymentList/my");
        });

        function page(url) {
            $.ajax({
                url: url,
                method: "GET",
                dataType: "HTML",
                success: function (data) {
                    $("#mypage-container").html(data);
                },
                error: function (request, error) {
                    console.log("페이지 전송 오류");
                }
            })
        }
    </script>
</body>

</html>